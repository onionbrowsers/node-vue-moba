{"version":3,"sources":["webpack:///./src/views/HeroEdit.vue?9d25","webpack:///src/views/HeroEdit.vue","webpack:///./src/views/HeroEdit.vue?bc27","webpack:///./src/views/HeroEdit.vue"],"names":["render","this$1","this","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","on","$event","$router","push","_v","_s","id","ref","model","nativeOn","preventDefault","save","callback","$$v","$set","staticClass","uploadUrl","getAuthHeaders","afterUpload","avatar","res","url","banner","_l","item","key","_id","staticStyle","scores","style","visibility","skills","length","index","icon","minRows","splice","partners","hero","staticRenderFns","console","log","$message","success","categories","data","items","heros","component"],"mappings":"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","file":"js/chunk-2d22c504.c7267cea.js","sourcesContent":["var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.id),expression:\"this.id\"}],attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.$router.push('/heros/list')}}},[_vm._v(\"返回\")]),_c('h1',[_vm._v(_vm._s(_vm.id ? '编辑' : '新建')+\"英雄\")]),_c('el-form',{ref:\"goodsForm\",attrs:{\"model\":_vm.model,\"label-width\":\"120px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.save($event)}}},[_c('el-tabs',{attrs:{\"type\":\"border-card\",\"value\":\"basic\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基础信息\",\"name\":\"basic\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(_vm.model.name),callback:function ($$v) {_vm.$set(_vm.model, \"name\", $$v)},expression:\"model.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"称号\"}},[_c('el-input',{model:{value:(_vm.model.title),callback:function ($$v) {_vm.$set(_vm.model, \"title\", $$v)},expression:\"model.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"头像\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl + '/upload',\"headers\":_vm.getAuthHeaders(),\"show-file-list\":false,\"on-success\":_vm.afterUpload}},[(_vm.model.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"背景图\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl + '/upload',\"headers\":_vm.getAuthHeaders(),\"show-file-list\":false,\"on-success\":function (res) { return _vm.$set(this$1.model, 'banner', res.url); }}},[(_vm.model.banner)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.model.banner}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"类型\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.categories),callback:function ($$v) {_vm.$set(_vm.model, \"categories\", $$v)},expression:\"model.categories\"}},_vm._l((_vm.categories),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"难度\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.7rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.difficult),callback:function ($$v) {_vm.$set(_vm.model.scores, \"difficult\", $$v)},expression:\"model.scores.difficult\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.7rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.skill),callback:function ($$v) {_vm.$set(_vm.model.scores, \"skill\", $$v)},expression:\"model.scores.skill\"}})],1),_c('el-form-item',{attrs:{\"label\":\"攻击\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.7rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.attack),callback:function ($$v) {_vm.$set(_vm.model.scores, \"attack\", $$v)},expression:\"model.scores.attack\"}})],1),_c('el-form-item',{attrs:{\"label\":\"生存\"}},[_c('el-rate',{staticStyle:{\"margin-top\":\"0.7rem\"},attrs:{\"max\":9,\"show-score\":\"\"},model:{value:(_vm.model.scores.survive),callback:function ($$v) {_vm.$set(_vm.model.scores, \"survive\", $$v)},expression:\"model.scores.survive\"}})],1),_c('el-form-item',{attrs:{\"label\":\"顺风出装\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.model.items1),callback:function ($$v) {_vm.$set(_vm.model, \"items1\", $$v)},expression:\"model.items1\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"使用技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.usageTips),callback:function ($$v) {_vm.$set(_vm.model, \"usageTips\", $$v)},expression:\"model.usageTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"对抗技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.battleTips),callback:function ($$v) {_vm.$set(_vm.model, \"battleTips\", $$v)},expression:\"model.battleTips\"}})],1),_c('el-form-item',{attrs:{\"label\":\"团战思路\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.model.teamTips),callback:function ($$v) {_vm.$set(_vm.model, \"teamTips\", $$v)},expression:\"model.teamTips\"}})],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"技能\",\"name\":\"skill\"}},[_c('el-button',{style:({visibility: _vm.model.skills.length > 3 ? 'hidden' : 'visible'}),attrs:{\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.model.skills.push({})}}},[_vm._v(\"添加技能\")]),_c('el-row',{staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.skills),function(item,index){return _c('el-col',{key:index,attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl + '/upload',\"show-file-list\":false,\"on-success\":function (res) { return _vm.$set(item, 'icon', res.url); }}},[(item.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 3}},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"小提示\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 3}},model:{value:(item.tips),callback:function ($$v) {_vm.$set(item, \"tips\", $$v)},expression:\"item.tips\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.model.skills.splice(index, 1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1),_c('el-tab-pane',{attrs:{\"label\":\"最佳搭档\",\"name\":\"partners\"}},[_c('el-button',{style:({visibility: _vm.model.partners.length > 1 ? 'hidden' : 'visible'}),attrs:{\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.model.partners.push({})}}},[_vm._v(\"添加搭档\")]),_c('el-row',{staticStyle:{\"flex-wrap\":\"wrap\"},attrs:{\"type\":\"flex\"}},_vm._l((_vm.model.partners),function(item,index){return _c('el-col',{key:index,attrs:{\"md\":12}},[_c('el-form-item',{attrs:{\"label\":\"英雄\"}},[_c('el-select',{model:{value:(item.hero),callback:function ($$v) {_vm.$set(item, \"hero\", $$v)},expression:\"item.hero\"}},_vm._l((_vm.heros),function(hero){return _c('el-option',{key:hero._id,attrs:{\"value\":hero._id,\"label\":hero.name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 3}},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.model.partners.splice(index, 1)}}},[_vm._v(\"删除\")])],1)],1)}),1)],1)],1),_c('el-form-item',{staticClass:\"el-test\",staticStyle:{\"margin-top\":\"1rem\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\"}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-button type='text' v-show=\"this.id\" @click=\"$router.push('/heros/list')\">返回</el-button>\r\n        <h1>{{id ? '编辑' : '新建'}}英雄</h1>\r\n        <el-form :model=\"model\" ref=\"goodsForm\" label-width='120px' @submit.native.prevent=\"save\">\r\n            <el-tabs type='border-card' value='basic'>\r\n                <el-tab-pane label='基础信息' name='basic'>\r\n                    <el-form-item label='名称'>\r\n                        <el-input v-model=\"model.name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label='称号'>\r\n                        <el-input v-model=\"model.title\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label='头像'>\r\n                        <el-upload\r\n                            class=\"avatar-uploader\"\r\n                            :action=\"uploadUrl + '/upload'\"\r\n                            :headers='getAuthHeaders()'\r\n                            :show-file-list=\"false\"\r\n                            :on-success=\"afterUpload\">\r\n                            <img v-if=\"model.avatar\" :src=\"model.avatar\" class=\"avatar\">\r\n                            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                    <el-form-item label='背景图'>\r\n                        <el-upload\r\n                            class=\"avatar-uploader\"\r\n                            :action=\"uploadUrl + '/upload'\"\r\n                            :headers='getAuthHeaders()'\r\n                            :show-file-list=\"false\"\r\n                            :on-success=\"res => $set(this.model, 'banner', res.url)\">\r\n                            <img v-if=\"model.banner\" :src=\"model.banner\" class=\"avatar\">\r\n                            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                    <el-form-item label='类型'>\r\n                        <el-select v-model=\"model.categories\" multiple>\r\n                            <el-option\r\n                                v-for=\"item of categories\"\r\n                                :key=\"item._id\"\r\n                                :label='item.name'\r\n                                :value='item._id'>\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label='难度'>\r\n                        <el-rate :max='9' style=\"margin-top:0.7rem\" show-score v-model=\"model.scores.difficult\"></el-rate>\r\n                    </el-form-item>\r\n                    <el-form-item label='技能'>\r\n                        <el-rate :max='9' style=\"margin-top:0.7rem\" show-score v-model=\"model.scores.skill\"></el-rate>\r\n                    </el-form-item>\r\n                    <el-form-item label='攻击'>\r\n                        <el-rate :max='9' style=\"margin-top:0.7rem\" show-score v-model=\"model.scores.attack\"></el-rate>\r\n                    </el-form-item>\r\n                    <el-form-item label='生存'>\r\n                        <el-rate :max='9' style=\"margin-top:0.7rem\" show-score v-model=\"model.scores.survive\"></el-rate>\r\n                    </el-form-item>\r\n                    <el-form-item label='顺风出装'>\r\n                        <el-select v-model=\"model.items1\" multiple>\r\n                            <el-option\r\n                                v-for=\"item of items\"\r\n                                :key=\"item._id\"\r\n                                :label='item.name'\r\n                                :value='item._id'>\r\n                            </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label='使用技巧'>\r\n                        <el-input type='textarea' v-model=\"model.usageTips\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label='对抗技巧'>\r\n                        <el-input type='textarea' v-model=\"model.battleTips\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label='团战思路'>\r\n                        <el-input type='textarea' v-model=\"model.teamTips\"></el-input>\r\n                    </el-form-item>\r\n                </el-tab-pane>\r\n                <el-tab-pane label='技能' name='skill'>\r\n                    <el-button type='text' @click=\"model.skills.push({})\" icon='el-icon-plus' :style=\"{visibility: model.skills.length > 3 ? 'hidden' : 'visible'}\">添加技能</el-button>\r\n                    <el-row type='flex' style=\"flex-wrap: wrap\">\r\n                        <el-col :md=\"12\" v-for=\"(item, index) in model.skills\" :key=\"index\">\r\n                            <el-form-item label='名称'>\r\n                                <el-input v-model='item.name'></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label='图标'>\r\n                                <el-upload\r\n                                    class=\"avatar-uploader\"\r\n                                    :action=\"uploadUrl + '/upload'\"\r\n                                    :show-file-list=\"false\"\r\n                                    :on-success=\"res => $set(item, 'icon', res.url)\">\r\n                                    <img v-if=\"item.icon\" :src=\"item.icon\" class=\"avatar\">\r\n                                    <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                                </el-upload>\r\n                            </el-form-item>\r\n                            <el-form-item label='描述'>\r\n                                <el-input v-model=\"item.description\" type='textarea' :autosize='{minRows: 3}'></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item label='小提示'>\r\n                                <el-input v-model=\"item.tips\" type='textarea' :autosize='{minRows: 3}'></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item>\r\n                                <el-button size='small' type='danger' @click=\"model.skills.splice(index, 1)\">删除</el-button>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-tab-pane>\r\n                <el-tab-pane label='最佳搭档' name='partners'>\r\n                    <el-button type='text' @click=\"model.partners.push({})\" icon='el-icon-plus' :style=\"{visibility: model.partners.length > 1 ? 'hidden' : 'visible'}\">添加搭档</el-button>\r\n                    <el-row type='flex' style=\"flex-wrap: wrap\">\r\n                        <el-col :md=\"12\" v-for=\"(item, index) in model.partners\" :key=\"index\">\r\n                            <el-form-item label='英雄'>\r\n                                <el-select v-model='item.hero'>\r\n                                    <el-option\r\n                                        v-for=\"hero in heros\"\r\n                                        :key=\"hero._id\"\r\n                                        :value='hero._id'\r\n                                        :label='hero.name'>\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                            <el-form-item label='描述'>\r\n                                <el-input v-model=\"item.description\" type='textarea' :autosize='{minRows: 3}'></el-input>\r\n                            </el-form-item>\r\n                            <el-form-item>\r\n                                <el-button size='small' type='danger' @click=\"model.partners.splice(index, 1)\">删除</el-button>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n            <el-form-item style=\"margin-top: 1rem\" class=\"el-test\">\r\n                <el-button type='primary' native-type='submit'>保存</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        props: {\r\n            id: {\r\n                type: String,\r\n                default: ''\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                model: {\r\n                    scores: {},\r\n                    skills: [],\r\n                    partners: []\r\n                },\r\n                categories: [],\r\n                items: [],\r\n                heros: []\r\n            }\r\n        },\r\n        created() {\r\n            this.uploadUrl = this.$http.defaults.baseURL.replace('/rest', '')\r\n            this.id && this.fetch()\r\n            this.fetchCategories()\r\n            this.fetchItems()\r\n            this.fetchHeros()\r\n        },\r\n        // 当新建英雄的时候将原来获取的表单数据清空\r\n        watch: {\r\n            id(val) {\r\n                if (!val) {\r\n                    this.model = {\r\n                        scores: {},\r\n                        skills: [],\r\n                        partners: []\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            afterUpload(res) {\r\n                this.$set(this.model, 'avatar', res.url)\r\n            },\r\n            // async await写法\r\n            async save() {\r\n                if (this.model.skills.length) {\r\n                    for (let i = 0; i < this.model.skills.length; i++) {\r\n                        if (JSON.stringify(this.model.skills[i]) === '{}') {\r\n                            return this.$message.error('请将技能填写完整')\r\n                        }\r\n                    }\r\n                }\r\n                if (this.model.partners.length) {\r\n                    for (let i = 0; i < this.model.partners.length; i++) {\r\n                        if (JSON.stringify(this.model.partners[i]) === '{}') {\r\n                            return this.$message.error('请将搭档填写完整')\r\n                        }\r\n                    }\r\n                }\r\n                let res\r\n                if (this.id) {\r\n                    res = await this.$http.put('heros/' + this.id, this.model)\r\n                } else {\r\n                    res = await this.$http.post('heros', this.model)\r\n                }\r\n                console.log(res)\r\n                this.$router.push('/heros/list')\r\n                this.$message.success('保存成功')\r\n            },\r\n            async fetch() {\r\n                const res = await this.$http.get('heros/' + this.id)\r\n                // 如果直接object.assign，vue无法监测合并的对象，不能加上get，set\r\n                for (let prop in res.data) {\r\n                    this.$set(this.model, prop, res.data[prop])\r\n                }\r\n                // this.model = Object.assign(this.model, res.data)\r\n            },\r\n            // 获取分类菜单的下拉数据\r\n            async fetchCategories() {\r\n                const res = await this.$http.get('categories/', {\r\n                    params: {\r\n                        list: 'heros'\r\n                    }\r\n                })\r\n                this.categories = res.data\r\n            },\r\n            // 获取所有物品的下拉数据\r\n            async fetchItems() {\r\n                const res = await this.$http.get('items/')\r\n                this.items = res.data\r\n            },\r\n            // 获取英雄下拉数据\r\n            async fetchHeros() {\r\n                const res = await this.$http.get('heros/')\r\n                this.heros = res.data\r\n            },\r\n        },\r\n    }\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeroEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeroEdit.vue?vue&type=template&id=30d3c2b4&\"\nimport script from \"./HeroEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./HeroEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}